Lib.Gateway = function (my) {    /**     * function to execute a script in an other software of the Creative Suite     * @param {function} function_to_execute the function to execute     * @param {JSON Object} obj a JSON Object { proprety : value}     * @return the value of the photoshop function, if the function is void -> null     * @throws {Error} if the photoshop function throw an exception     **/    my.call_app = function(app, function_to_execute, obj){        var error = null;        var result = null;        var bt = new BridgeTalk();        bt.target = app;        bt.body = function_to_execute.toSource() + '(' +obj.toSource() + ');';        bt.onError = function(ex){            error = ex.body;        }        bt.onResult = function(obj){            result = obj.body;        }        bt.send(100);        if(error != null) {            throw new Error(error);        }        return result;    }    return my;}(Lib || {});